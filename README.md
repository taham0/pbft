## Implementing PBFT using Reliable Broadcast

I implemented the pbft algorithm and tested it using the hyb_4 dataset with results as expected. In the following paragraph, I will provide details regarding my implementation.

Firstly, I modified main.rs to include `pbft::node::Context::spawn()` which spawns a pbft node. Then, I created 3 different message types for the protocol: `Init(u64)`, `Prepare(Msg)`, and `Echo(Msg)` for different stages as I will explain ahead. I replaced the `context.rs` file for *pbft* with the one from *rbc*. Some key variables added to the `Context struct` include a `values` vector to store all proposed values, `vec_count` hashmap to store vectors and their corresponding counts, an `echo` variable that is used for reliable broadcasting, and an `is_leader` boolean that represents if the current node is a leader.

The key algorithm is as follows. All nodes send their `inp_message` value to the leader as an `Init` message. The leader waits for **2f + 1** responses and creates a vector of all the values. When the quorum is met, the leader broadcasts this vector to all nodes in the network including itself as a `Prepare` message. I modified the broadcast function with a simple condition so that the leader sends the message to itself and it is handled automatically.

On receiving the vector from the leader, each node broadcasts it to all other nodes as an `Echo` message if the `echo` variable is `true`, and then sets the `echo` variable to `false`. Upon receiving `echo` messages from other nodes, each node updates its `vec_count` hashmap to keep a count for each distinct vector received. Following that, each node checks if any of the vector counts reaches `f + 1` (number of faulty nodes + 1). If so, it broadcasts the vector as an `echo` message to all other nodes if it has not been sent before (`echo` is false). If the vector counts reaches `n - f` (total nodes - faulty nodes), the nodes calculate the median of the vector and deliver the value by calling the terminate function. The terminate function uses the TCPReliableSender (`sync_send`) to dispatch a SyncMsg with the 'Completed' SyncState.
